<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"      
	xmlns:a4j="http://richfaces.org/a4j"
	template="./template/template_login.xhtml">
	
	<ui:define name="title">
        Reporte Diario
    </ui:define>
        
    <ui:define name="content">
    <br />
    <br />
    <br />
    <div align="center"> 
    	<h:form id="panel_reporte_form">
	    <h:panelGroup id="panel_tabla_reporte_diario">	    		   			
	   				<rich:panel header="Reporte Diario por Sucursal" style="width: 600px;">
	   					 <h:panelGrid columns="6">
	                        	<h:outputLabel value="Fecha : " style="font-weight: bold"/>
	                            <rich:calendar id="calendar" cellWidth="24px" datePattern="dd/MM/yyyy"
	                    				       cellHeight="22px" style="width:200px">
								</rich:calendar>
	                            <h:outputLabel value="Sucursal : "  style="font-weight: bold"/>
			                    <h:selectOneMenu id="sucursales" style="width: 200px" value="#{dailyReportManagedBean.branchOfficeCode}">
			                    	<f:selectItem itemValue="-1" itemLabel="Seleccione una Sucursal"/>			                    	
									<f:selectItems value="#{dailyReportManagedBean.branchOfficeItems}" />
								</h:selectOneMenu>			                    
			                    <a4j:commandButton value="Aceptar" action="#{dailyReportManagedBean.performSearch}"
									render="dailyReportPane"  execute="@form"
									oncomplete="if (#{facesContext.maximumSeverity==null}) {#{rich:component('dailyReportPane')}.show();}" />			                    			                    		                  
	                        </h:panelGrid>
	                        <br />
	                        <div style="width: 200px;">
	                        	<rich:messages />
	                        </div>
	   				</rich:panel>	   					
	    </h:panelGroup>
	    
	    <rich:popupPanel header="Reporte Diario - Dia: 24-Agosto-2010 / Sucursal: San Agustin Remesas" id="dailyReportPane" width="600" height="520">
  			<f:facet name="controls">
				<h:outputLink value="#" onclick="#{rich:component('dailyReportPane')}.hide(); return false;">
					cerrar
				</h:outputLink>
			</f:facet>					
			<div align="center">
			<h:dataTable id="tabla_reporte_mensual" var="row" value="#{dailyReportManagedBean.reportList}" >                                                
                   <h:column style="text-align: center">
                       <f:facet name="header">
                       	<h:outputText value="FECHA" />
                       </f:facet>
                       <h:outputText value="#{row.date}"/>
                   </h:column>
                   <h:column style="text-align: center">
                       <f:facet name="header">
                           <h:outputText value="REFERENCIA" />
                       </f:facet>
                       <h:outputText value="#{row.reference}" />
                   </h:column>
                   <h:column style="text-align: center">
                       <f:facet name="header">
                           <h:outputText value="BANCO" />
                       </f:facet>
                       <h:outputText value="#{row.bank}" />
                   </h:column>
                   <h:column style="text-align: center">
                       <f:facet name="header">
                           <h:outputText value="CUENTA" />
                       </f:facet>
                       <h:outputText value="#{row.account}" />
                   </h:column>
                   <h:column style="text-align: center">
                       <f:facet name="header">
                           <h:outputText value="DIVISA" />
                       </f:facet>
                       <h:outputText value="#{row.currency}" />
                   </h:column>
                   <h:column style="text-align: center">
                       <f:facet name="header">
                           <h:outputText value="NO. DOC." />
                       </f:facet>
                       <h:outputText value="#{row.docNum}" />
                   </h:column>
                   <h:column style="text-align: right">
                   	<f:facet name="header">
                           <h:outputText value="IMPORTE" />
                       </f:facet>
                       <h:outputText value="#{row.amount}" />
                   </h:column>
                </h:dataTable>                
                <h:panelGroup style="width: 790; text-align: right;">
           			<h:outputText value="32" /> <h:outputText value="$ 3,434.32" />
             	</h:panelGroup>  
             </div>                          	  		
		</rich:popupPanel>
		</h:form>	    
    </div>    
	</ui:define>
</ui:composition>